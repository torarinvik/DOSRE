{
  "meta": {
    "description": "Comprehensive DOS/BIOS interrupt signature database for disassembly annotations. Covers PC/AT BIOS, MS-DOS 2.0-7.1, EMS, Mouse, DPMI.",
    "defaultDosVersion": "6.22",
    "notes": [
      "Use -dosver <major.minor> to pick between version-variant entries.",
      "Parameter types: DS:DX -> (Pointer), AH=code (Registers), CF=error (Flags)."
    ]
  },
  "interrupts": [
    {
      "int": "0x10",
      "name": "BIOS Video",
      "selector": "AH",
      "functions": [
        { "code": "0x00", "name": "Set Video Mode", "params": ["AL=mode"], "returns": [] },
        { "code": "0x01", "name": "Set Cursor Shape", "params": ["CH=start scanline", "CL=end scanline"], "returns": [] },
        { "code": "0x02", "name": "Set Cursor Position", "params": ["BH=page", "DH=row", "DL=col"], "returns": [] },
        { "code": "0x03", "name": "Get Cursor Position", "params": ["BH=page"], "returns": ["CH=start line", "CL=end line", "DH=row", "DL=col"] },
        { "code": "0x05", "name": "Select Active Display Page", "params": ["AL=page"], "returns": [] },
        { "code": "0x06", "name": "Scroll Window Up", "params": ["AL=lines", "BH=attr", "CH=row1", "CL=col1", "DH=row2", "DL=col2"], "returns": [] },
        { "code": "0x07", "name": "Scroll Window Down", "params": ["AL=lines", "BH=attr", "CH=row1", "CL=col1", "DH=row2", "DL=col2"], "returns": [] },
        { "code": "0x08", "name": "Read Char/Attr at Cursor", "params": ["BH=page"], "returns": ["AL=char", "AH=attr"] },
        { "code": "0x09", "name": "Write Char/Attr at Cursor", "params": ["AL=char", "BH=page", "BL=attr", "CX=count"], "returns": [] },
        { "code": "0x0A", "name": "Write Char at Cursor", "params": ["AL=char", "BH=page", "CX=count"], "returns": [] },
        { "code": "0x0C", "name": "Write Graphics Pixel", "params": ["AL=color", "BH=page", "CX=x", "DX=y"], "returns": [] },
        { "code": "0x0D", "name": "Read Graphics Pixel", "params": ["BH=page", "CX=x", "DX=y"], "returns": ["AL=color"] },
        { "code": "0x0E", "name": "Teletype Output", "params": ["AL=char", "BH=page", "BL=color (GFX)"], "returns": [] },
        { "code": "0x0F", "name": "Get Video Mode", "params": [], "returns": ["AL=mode", "AH=columns", "BH=page"] },
        { "code": "0x1010", "name": "Set Individual DAC Register", "params": ["BX=register", "CH=green", "CL=blue", "DH=red"], "returns": [] },
        { "code": "0x1012", "name": "Set Block of DAC Registers", "params": ["BX=start register", "CX=count", "ES:DX -> color table"], "returns": [] },
        { "code": "0x1130", "name": "Get Font Information", "params": ["BH=type"], "returns": ["CX=bytes/char", "DL=max row", "ES:BP -> data"] },
        { "code": "0x13", "name": "Write String", "params": ["AL=mode", "BH=page", "BL=attr", "CX=len", "DH=row", "DL=col", "ES:BP -> string"], "returns": [] },
        { "code": "0x4F00", "name": "VBE: Get Controller Info", "params": ["ES:DI -> buffer"], "returns": ["AX=status"] },
        { "code": "0x4F01", "name": "VBE: Get Mode Info", "params": ["CX=mode", "ES:DI -> buffer"], "returns": ["AX=status"] },
        { "code": "0x4F02", "name": "VBE: Set Mode", "params": ["BX=mode", "ES:DI -> CRTC info"], "returns": ["AX=status"] }
      ]
    },
    {
      "int": "0x11",
      "name": "BIOS Equipment List",
      "selector": "",
      "functions": []
    },
    {
      "int": "0x12",
      "name": "BIOS Memory Size",
      "selector": "",
      "functions": []
    },
    {
      "int": "0x13",
      "name": "BIOS Disk Services",
      "selector": "AH",
      "functions": [
        { "code": "0x00", "name": "Reset Disk", "params": ["DL=drive"], "returns": ["AH=status", "CF=fail"] },
        { "code": "0x02", "name": "Read CHS", "params": ["AL=count", "CH=cyl", "CL=sec", "DH=head", "DL=drive", "ES:BX -> buffer"], "returns": ["AH=status", "AL=count", "CF=fail"] },
        { "code": "0x08", "name": "Get Geometry", "params": ["DL=drive"], "returns": ["CH=max cyl", "CL=max sec", "DH=max head", "DL=num drives"] },
        { "code": "0x41", "name": "Check Extensions", "params": ["BX=0x55AA", "DL=drive"], "returns": ["BX=0xAA55", "CF=no EDD"] },
        { "code": "0x42", "name": "Read LBA", "params": ["DL=drive", "DS:SI -> DAP"], "returns": ["AH=status", "CF=fail"] },
        { "code": "0x48", "name": "Get Disk Params", "params": ["DL=drive", "DS:SI -> buffer"], "returns": ["AH=status", "CF=fail"] }
      ]
    },
    {
      "int": "0x15",
      "name": "BIOS System",
      "selector": "AH",
      "functions": [
        { "code": "0x2401", "name": "A20: Enable", "params": [], "returns": ["CF=fail"] },
        { "code": "0x86", "name": "Wait (us)", "params": ["CX:DX=us"], "returns": ["CF=fail"] },
        { "code": "0x87", "name": "Copy Block", "params": ["CX=words", "ES:SI -> GDT"], "returns": ["AH=status", "CF=fail"] },
        { "code": "0x88", "name": "Get Mem >1MB", "params": [], "returns": ["AX=KB"] },
        { "code": "0xE801", "name": "Get Mem Phoenix", "params": [], "returns": ["AX=1-16MB", "BX=>16MB"] },
        { "code": "0xE820", "name": "Query Map", "params": ["EAX=0xE820", "EBX=cont", "EDX=0x534D4150", "ES:DI -> buffer"], "returns": ["CF=fail", "EBX=next"] }
      ]
    },
    {
      "int": "0x16",
      "name": "BIOS Keyboard",
      "selector": "AH",
      "functions": [
        { "code": "0x00", "name": "Read Key", "params": [], "returns": ["AL=ASCII", "AH=Scan"] },
        { "code": "0x01", "name": "Peek Key", "params": [], "returns": ["ZF=0 if key available"] }
      ]
    },
    {
      "int": "0x1A",
      "name": "BIOS Timer",
      "selector": "AH",
      "functions": [
        { "code": "0x00", "name": "Get Ticks", "params": [], "returns": ["CX:DX=ticks", "AL=midnight"] },
        { "code": "0xB101", "name": "PCI Check", "params": [], "returns": ["AL=status"] }
      ]
    },
    {
      "int": "0x21",
      "name": "DOS API",
      "selector": "AH",
      "functions": [
        { "code": "0x09", "name": "Print Str", "params": ["DS:DX -> str$"], "returns": [] },
        { "code": "0x0F", "name": "Open FCB", "params": ["DS:DX -> FCB"], "returns": ["AL=status"] },
        { "code": "0x10", "name": "Close FCB", "params": ["DS:DX -> FCB"], "returns": ["AL=status"] },
        { "code": "0x1A", "name": "Set DTA", "params": ["DS:DX -> buf"], "returns": [] },
        { "code": "0x25", "name": "Set Int", "params": ["AL=int", "DS:DX -> fn"], "returns": [] },
        { "code": "0x30", "name": "Get Version", "params": [], "returns": ["AL=maj", "AH=min"] },
        { "code": "0x35", "name": "Get Int", "params": ["AL=int"], "returns": ["ES:BX -> fn"] },
        { "code": "0x39", "name": "mkdir", "params": ["DS:DX -> path"], "returns": ["CF=fail"] },
        { "code": "0x3B", "name": "chdir", "params": ["DS:DX -> path"], "returns": ["CF=fail"] },
        { "code": "0x3C", "name": "Create", "params": ["CX=attr", "DS:DX -> path"], "returns": ["AX=handle", "CF=fail"] },
        { "code": "0x3D", "name": "Open", "params": ["AL=mode", "DS:DX -> path"], "returns": ["AX=handle", "CF=fail"] },
        { "code": "0x3E", "name": "Close", "params": ["BX=handle"], "returns": ["CF=fail"] },
        { "code": "0x3F", "name": "Read", "params": ["BX=handle", "CX=len", "DS:DX -> buf"], "returns": ["AX=len", "CF=fail"] },
        { "code": "0x40", "name": "Write", "params": ["BX=handle", "CX=len", "DS:DX -> buf"], "returns": ["AX=len", "CF=fail"] },
        { "code": "0x42", "name": "Seek", "params": ["AL=origin", "BX=handle", "CX:DX=offset"], "returns": ["DX:AX=new", "CF=fail"] },
        { "code": "0x48", "name": "Alloc PARA", "params": ["BX=para"], "returns": ["AX=seg", "CF=fail"] },
        { "code": "0x49", "name": "Free PARA", "params": ["ES=seg"], "returns": ["CF=fail"] },
        { "code": "0x4C", "name": "Exit", "params": ["AL=code"], "returns": [] },
        { "code": "0x52", "name": "Get LoL", "params": [], "returns": ["ES:BX -> LoL"] },
        { "code": "0x62", "name": "Get PSP", "params": [], "returns": ["BX=PSP"] },
        { "code": "0x6C", "name": "Ext Open", "params": ["BX=mode", "CX=attr", "DX=act", "DS:SI -> path"], "returns": ["AX=handle", "CF=fail"] },
        { "code": "0x714E", "name": "LFN Seek First", "params": ["CH=attr", "DS:DX -> pat", "ES:DI -> data"], "returns": ["AX=handle", "CF=fail"] }
      ]
    },
    {
      "int": "0x2F",
      "name": "Multiplex",
      "selector": "AH",
      "functions": [
        { "code": "0x1680", "name": "Idle", "params": [], "returns": [] },
        { "code": "0x1687", "name": "DPMI Init", "params": [], "returns": ["AX=0", "ES:DI -> entry"] },
        { "code": "0x4310", "name": "XMS Entry", "params": [], "returns": ["ES:BX -> entry"] }
      ]
    },
    {
      "int": "0x31",
      "name": "DPMI",
      "selector": "AX",
      "functions": [
        { "code": "0x0000", "name": "Alloc Desc", "params": ["CX=count"], "returns": ["AX=sel"] },
        { "code": "0x0007", "name": "Set Base", "params": ["BX=sel", "CX:DX=base"], "returns": ["CF=fail"] },
        { "code": "0x0008", "name": "Set Limit", "params": ["BX=sel", "CX:DX=lim"], "returns": ["CF=fail"] },
        { "code": "0x0100", "name": "Alloc DOS", "params": ["BX=para"], "returns": ["AX=seg", "DX=sel"] },
        { "code": "0x0300", "name": "Sim Real Int", "params": ["BL=int", "ES:DI -> regs"], "returns": ["CF=fail"] },
        { "code": "0x0501", "name": "Alloc Block", "params": ["BX:CX=size"], "returns": ["SI:DI=handle", "BX:CX=addr"] },
        { "code": "0x0800", "name": "Map Phys", "params": ["BX:CX=phys", "SI:DI=size"], "returns": ["BX:CX=addr"] }
      ]
    },
    {
      "int": "0x33",
      "name": "Mouse",
      "selector": "AX",
      "functions": [
        { "code": "0x0000", "name": "Reset", "params": [], "returns": ["AX=status"] },
        { "code": "0x0001", "name": "Show", "params": [], "returns": [] },
        { "code": "0x0003", "name": "Get State", "params": [], "returns": ["BX=btns", "CX=x", "DX=y"] }
      ]
    }
  ]
}
